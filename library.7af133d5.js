function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a={},n={},i=t.parcelRequire37c5;null==i&&((i=function(e){if(e in a)return a[e].exports;if(e in n){var t=n[e];delete n[e];var i={id:e,exports:{}};return a[e]=i,t.call(i.exports,i,i.exports),i.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){n[e]=t},t.parcelRequire37c5=i),i("5MPmM"),i("7ol1T");var s=i("5MPmM"),o=i("38cRt"),r=i("2zu3E");function l(e){return e.map((({title:t,original_title:a,name:n,original_name:i,poster_path:s,release_date:o,genres:l,vote_average:c,id:d})=>{const m=new Date(o),u=t||a||n||i,p=c.toString().padEnd(3,".0").slice(0,3);return e=`\n            <li class="movie-card gallery_item" data-id="${d}">\n              <img src="${s=s?`https://image.tmdb.org/t/p/w500/${s}`:"https://upload.wikimedia.org/wikipedia/commons/4/47/GarvaGriha_in_KaryaBinayak.jpg"}" alt="${u}" loading="lazy" class="movie-card__img" id="${d}"/>\n\n              <div class="movie-card__info">\n                <div class="movie-card__info-name-wraper"\n                  <p class="movie-card__info-name">${u.length<=31?u.toUpperCase():u.toUpperCase().slice(0,28)+"..."}\n                  </p>\n                </div>\n                <div class="movi-card__info-wraper">\n                  <div class="movi-card">\n                  <p class="movie-card__info-item">${(0,r.finalGenresForLibrary)(l)} | ${m.getFullYear()||""}\n                  </p>\n                  </div>\n                  <div class="card__rating">\n                    <p class="card__text card__rating--text">${p}</p>\n                  </div>\n                </div>\n              </div>\n            </li>\n          `})).join("")}var c=i("7ol1T");let d="queue";const m=new(0,o.MovieApi),u=document.querySelector('[data-action="watched"]'),p=document.querySelector('[data-action="queue"]');(async()=>{const e=(0,c.loadFromStorage)("queue")||[];if(console.log(e),0!==e.length)try{const t=(await f(e)).map((e=>e.data));console.log(t),s.refs.galleryLibrary.innerHTML=l(t)}catch(e){console.log(e.message)}else s.refs.galleryLibrary.innerHTML='<img src=\'https://upload.wikimedia.org/wikipedia/commons/4/47/GarvaGriha_in_KaryaBinayak.jpg\' alt="Sorry, you don\'t add movies at this list" loading="lazy" class="movie-card__img"/>'})();const g=async e=>{d=e.target.dataset.action,function(e,t){"watched"===e?(t.target.classList.add("active"),t.target.previousElementSibling.classList.remove("active")):(t.target.classList.add("active"),t.target.nextElementSibling.classList.remove("active"))}(d,e),console.log("choosenList: ",d);const t=(0,c.loadFromStorage)(d)||[];if(console.log(t),0!==t.length)try{const e=(await f(t)).map((e=>e.data));console.log(e),s.refs.galleryLibrary.innerHTML=l(e)}catch(e){console.log(e.message)}else s.refs.galleryLibrary.innerHTML=""};async function f(e){const t=e.map((async e=>{m.id=e;return await m.fetchMovieById()}));return await Promise.all(t)}async function f(e){const t=e.map((async e=>{m.id=e;return await m.fetchMovieById()}));return await Promise.all(t)}p.addEventListener("click",g),u.addEventListener("click",g),i("j8LgV");s=i("5MPmM"),o=i("38cRt"),c=i("7ol1T");const v=new(0,o.MovieApi);s.refs.modalContainer.addEventListener("click",(async e=>{const t=e.target.dataset.action;if(console.log(d),console.log("e.target.dataset.action: ",e.target.dataset.action),t!==d)return;const a=(0,c.loadFromStorage)(t)||[];if(console.log(a),0!==a.length)try{const e=await async function(e){const t=e.map((async e=>{v.id=e;return await v.fetchMovieById()}));return console.log(t),await Promise.all(t)}(a);console.log(e);const t=e.map((e=>e.data));console.log(t),s.refs.galleryLibrary.innerHTML=l(t)}catch(e){console.log(e.message)}else s.refs.galleryLibrary.innerHTML=""}));o=i("38cRt"),s=i("5MPmM");var y=i("j8LgV");const h=({id:e,title:t,poster_path:a,popularity:n,original_title:i,vote_average:s,vote_count:o,genres:r,overview:l})=>{a=a?`https://image.tmdb.org/t/p/w500/${a}`:"https://upload.wikimedia.org/wikipedia/commons/4/47/GarvaGriha_in_KaryaBinayak.jpg",r=r.map((e=>e.name)).join(", "),n=parseFloat(n).toFixed(1);const c=t.toUpperCase(),d=i.toUpperCase();return`\n        <div class="image__place" id=${e}>\n        <button type="button" class="button__trailer js-trailer" name="trailer">\n        </button>\n          <img class="modal-poster" src="${a}" alt="${i}" />\n        </div>\n        <div class="content__place">\n            <h2 class="modal__header">${c}</h2>\n            <div class="details">\n                <ul class="details-head">\n                    <li class="details-string">Vote / Votes</li>\n                    <li class="details-string">Popularity</li>\n                    <li class="details-string">Original Title</li>\n                    <li class="details-string">Genre</li>\n                </ul>\n                <ul class="details-content">\n                    <li class="details-string"><span class="vote--modal">${s.toFixed(1)}</span> / ${o}</li>\n                    <li class="details-string">${n}</li>\n                    <li class="details-string">${d}</li>\n                    <li class="details-string">${r}</li>\n                </ul>\n            </div>\n            <h3>ABOUT</h3>\n            <p class="modal-annotation">\n                ${l}\n            </p>\n            <ul class="button__place">\n            <button type="button" class="film-modal__button film-modal__button--active" data-id="${e}" name="queue" data-action="queue">${(0,y.renderBtnQueueFromLocalStorage)(e)}</button>\n            <button type="button" class="film-modal__button " data-id="${e}" name="watched" data-action="watched">${(0,y.renderBtnWatchedFromLocalStorage)(e)}</button>\n            </ul>`};var _=i("9t6Mr"),L=i("9B8F0");const w=new(0,o.MovieApi);let b="";const M=async e=>{s.refs.loader.classList.remove("is-hidden"),s.refs.modalContainer.innerHTML="",w.id=e;try{const{data:e}=await w.fetchMovieById();s.refs.modalContainer.insertAdjacentHTML("beforeend",h(e)),s.refs.closeModalFilmBtn.addEventListener("click",E),setTimeout((()=>{document.querySelector(".js-trailer").addEventListener("click",k)}),0)}catch(e){console.log(e)}s.refs.modal.classList.remove("is-hidden"),s.refs.loader.classList.add("is-hidden")};const k=async()=>{try{const{data:e}=await w.fetchMovieByIdForTrailer();if(function(e){const{results:t}=e;t.forEach((e=>{e.name.includes("Official Trailer")&&(b=e.key)}))}(e),!b)return void(0,_.alertNoTrailer)()}catch(e){console.log(e)}L.create(`\n        <iframe src='https://www.youtube.com/embed/${b}'frameborder="0" allowfullscreen class="trailer_video" width="80%" height="80%"></iframe>`).show()};function E(){s.refs.modal.classList.add("is-hidden"),s.refs.backdrop.classList.add("is-hidden"),document.body.classList.remove("modal-is-open"),s.refs.modalContainer.innerHTML="",b="",s.refs.closeModalFilmBtn.removeEventListener("click",E)}s.refs.backdrop.addEventListener("click",(function(e){e.currentTarget===e.target&&E()})),document.addEventListener("keydown",(function(e){"Escape"===e.code&&E()})),s.refs.galleryLibrary.addEventListener("click",(e=>{e.preventDefault(),"IMG"===e.target.nodeName&&(s.refs.backdrop.classList.remove("is-hidden"),document.body.classList.add("modal-is-open"),M(e.target.id))}));var $=i("iUlH6");const T=document.querySelector(".footer__link"),S=document.querySelector(".team-backdrop"),B=document.querySelector("body");let F="";let C=document.documentElement.clientWidth;T.addEventListener("click",(function(){S.classList.remove("is-hidden"),B.classList.add("stop-scroll"),C<1200?F=new(e($))(".team-modal",{effect:"cards",grabCursor:!0}):C>=1200&&(F=new(e($))(".team-modal",{effect:"flip",grabCursor:!0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}}))})),S.addEventListener("click",(function({target:e}){"IMG"!==e.nodeName&&"swiper-button-next"!==e.classList[0]&&"swiper-button-prev"!==e.classList[0]&&(S.classList.add("is-hidden"),B.classList.remove("stop-scroll"),F.destroy(!0,!0))})),document.addEventListener("keydown",(function(e){if(!S.classList.contains("is-hidden")&&!S.classList.contains("is-hidden")){if("Escape"!==e.key)return;S.classList.add("is-hidden"),B.classList.remove("stop-scroll"),F.destroy(!0,!0)}}));var q=i("eWCmQ"),j=i("25RCP"),x=i("amyG6");(0,j.initializeApp)({apiKey:"AIzaSyBz5_WEoInvREC_39QfDZZZECl5U8Gjy9s",authDomain:"auth-film.firebaseapp.com",projectId:"auth-film",storageBucket:"auth-film.appspot.com",messagingSenderId:"298945320872",appId:"1:298945320872:web:2c146219caa9b256beef9d"});const G=(0,x.getAuth)();document.querySelector("[data-logout]").addEventListener("click",(function(t){t.preventDefault(),(0,x.signOut)(G).then((()=>{location.replace("https://specter-ode.github.io/Filmoteka-project/"),e(q).Notify.warning("You are now successfully logged out!")})).catch((t=>{const a=t.code;e(q).Notify.failure(a)}))}));
//# sourceMappingURL=library.7af133d5.js.map
