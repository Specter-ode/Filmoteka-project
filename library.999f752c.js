!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},a={},r=t.parcelRequire37c5;null==r&&((r=function(e){if(e in n)return n[e].exports;if(e in a){var t=a[e];delete a[e];var r={id:e,exports:{}};return n[e]=r,t.call(r.exports,r,r.exports),r.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){a[e]=t},t.parcelRequire37c5=r),r("lyT68"),r("1hEYs");var i=r("bpxeT"),c=r("2TvXO"),o=r("lyT68"),s=r("BRQVA");function l(e){return e.map((function(t){var n=t.title,a=t.original_title,r=t.name,i=t.original_name,c=t.poster_path,o=t.release_date,s=t.genres,l=t.vote_average,d=t.id,u=new Date(o),p=n||a||r||i,f=l.toString().padEnd(3,".0").slice(0,3);return c=c?"https://image.tmdb.org/t/p/w500/".concat(c):"https://upload.wikimedia.org/wikipedia/commons/4/47/GarvaGriha_in_KaryaBinayak.jpg",e='\n            <li class="movie-card gallery_item" data-id="'.concat(d,'">\n              <img src="').concat(c,'" alt="').concat(p,'" loading="lazy" class="movie-card__img" id="').concat(d,'"/>\n\n              <div class="movie-card__info">\n                <div class="movie-card__info-name-wraper"\n                  <p class="movie-card__info-name">').concat(p.length<=31?p.toUpperCase():p.toUpperCase().slice(0,28)+"...",'\n                  </p>\n                </div>\n                <div class="movi-card__info-wraper">\n                  <div class="movi-card">\n                  <p class="movie-card__info-item">').concat(function(e){if(0!==e.length)return e.length<3?e.map((function(e){return e.name})).join(", "):e.map((function(e){return e.name})).slice(0,2).join(", ")+"..."}(s)," | ").concat(u.getFullYear()||"",'\n                  </p>\n                  </div>\n                  <div class="card__rating">\n                    <p class="card__text card__rating--text">').concat(f,"</p>\n                  </div>\n                </div>\n              </div>\n            </li>\n          ")})).join("")}var d,u=r("1hEYs"),p="queue",f=new(0,s.MovieApi),m=document.querySelector('[data-action="watched"]'),v=document.querySelector('[data-action="queue"]'),g=(d=e(i)(e(c).mark((function t(){var n,a,r;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==(n=(0,u.loadFromStorage)("queue")||[]).length){e.next=4;break}return o.refs.galleryLibrary.innerHTML='<img src=\'https://upload.wikimedia.org/wikipedia/commons/4/47/GarvaGriha_in_KaryaBinayak.jpg\' alt="Sorry, you don\'t add movies at this list" loading="lazy" class="movie-card__img"/>',e.abrupt("return");case 4:return e.prev=4,e.next=7,y(n);case 7:a=e.sent,r=a.map((function(e){return e.data})),o.refs.galleryLibrary.innerHTML=l(r),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),console.log(e.t0.message);case 15:case"end":return e.stop()}}),t,null,[[4,12]])}))),function(){return d.apply(this,arguments)});g();var h=function(){var t=e(i)(e(c).mark((function t(n){var a,r,i;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b(p=n.target.dataset.action,n),0!==(a=(0,u.loadFromStorage)(p)||[]).length){e.next=6;break}return o.refs.galleryLibrary.innerHTML="",e.abrupt("return");case 6:return e.prev=6,e.next=9,y(a);case 9:r=e.sent,i=r.map((function(e){return e.data})),o.refs.galleryLibrary.innerHTML=l(i),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(6),console.log(e.t0.message);case 17:case"end":return e.stop()}}),t,null,[[6,14]])})));return function(e){return t.apply(this,arguments)}}();function y(t){var n=t.map(function(){var t=e(i)(e(c).mark((function t(n){return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f.id=n,e.next=3,f.fetchMovieById();case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());return Promise.all(n)}function b(e,t){"watched"===e?(t.target.classList.add("active"),t.target.previousElementSibling.classList.remove("active")):(t.target.classList.add("active"),t.target.nextElementSibling.classList.remove("active"))}v.addEventListener("click",h),m.addEventListener("click",h),r("jLMai");i=r("bpxeT"),c=r("2TvXO"),o=r("lyT68"),s=r("BRQVA"),u=r("1hEYs");var _=new(0,s.MovieApi),w=function(){var t=e(i)(e(c).mark((function t(n){var a,r,i,s;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((a=n.target.dataset.action)===p){e.next=3;break}return e.abrupt("return");case 3:if(0!==(r=(0,u.loadFromStorage)(a)||[]).length){e.next=7;break}return o.refs.galleryLibrary.innerHTML="",e.abrupt("return");case 7:return e.prev=7,e.next=10,k(r);case 10:i=e.sent,s=i.map((function(e){return e.data})),o.refs.galleryLibrary.innerHTML=l(s),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(7),console.log(e.t0.message);case 18:case"end":return e.stop()}}),t,null,[[7,15]])})));return function(e){return t.apply(this,arguments)}}();function k(t){var n=t.map(function(){var t=e(i)(e(c).mark((function t(n){return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _.id=n,e.next=3,_.fetchMovieById();case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());return Promise.all(n)}o.refs.modalContainer.addEventListener("click",w);i=r("bpxeT"),c=r("2TvXO"),s=r("BRQVA"),o=r("lyT68");var L=r("jLMai"),x=function(e){var t=e.id,n=e.title,a=e.poster_path,r=e.popularity,i=e.original_title,c=e.vote_average,o=e.vote_count,s=e.genres,l=e.overview;a=a?"https://image.tmdb.org/t/p/w500/".concat(a):"https://upload.wikimedia.org/wikipedia/commons/4/47/GarvaGriha_in_KaryaBinayak.jpg",s=s.map((function(e){return e.name})).join(", "),r=parseFloat(r).toFixed(1);var d=n.toUpperCase(),u=i.toUpperCase(),p=c.toFixed(1);return'\n        <div class="image__place" id='.concat(t,'>\n        <button type="button" class="button__trailer js-trailer" name="trailer">\n        </button>\n          <img class="modal-poster" src="').concat(a,'" alt="').concat(i,'" />\n        </div>\n        <div class="content__place">\n            <h2 class="modal__header">').concat(d,'</h2>\n            <div class="details">\n                <ul class="details-head">\n                    <li class="details-string">Vote / Votes</li>\n                    <li class="details-string">Popularity</li>\n                    <li class="details-string">Original Title</li>\n                    <li class="details-string">Genre</li>\n                </ul>\n                <ul class="details-content">\n                    <li class="details-string"><span class="vote--modal">').concat(p,"</span> / ").concat(o,'</li>\n                    <li class="details-string">').concat(r,'</li>\n                    <li class="details-string">').concat(u,'</li>\n                    <li class="details-string">').concat(s,'</li>\n                </ul>\n            </div>\n            <h3>ABOUT</h3>\n            <p class="modal-annotation">\n                ').concat(l,'\n            </p>\n            <ul class="button__place">\n            <button type="button" class="film-modal__button film-modal__button--active" data-id="').concat(t,'" name="queue" data-action="queue">').concat((0,L.renderBtnQueueFromLocalStorage)(t),'</button>\n            <button type="button" class="film-modal__button " data-id="').concat(t,'" name="watched" data-action="watched">').concat((0,L.renderBtnWatchedFromLocalStorage)(t),"</button>\n            </ul>")},T=r("1oqgH"),E=r("dyT35"),M=new(0,s.MovieApi),B="",S=function(){var t=e(i)(e(c).mark((function t(n){var a;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o.refs.loader.classList.remove("is-hidden"),o.refs.modalContainer.innerHTML="",M.id=n,e.prev=3,e.next=6,M.fetchMovieById();case 6:a=e.sent.data,o.refs.modalContainer.insertAdjacentHTML("beforeend",x(a)),o.refs.closeModalFilmBtn.addEventListener("click",q),setTimeout((function(){document.querySelector(".js-trailer").addEventListener("click",F)}),0),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),console.log(e.t0);case 15:o.refs.modal.classList.remove("is-hidden"),o.refs.loader.classList.add("is-hidden");case 17:case"end":return e.stop()}}),t,null,[[3,12]])})));return function(e){return t.apply(this,arguments)}}();function j(e){e.results.forEach((function(e){e.name.includes("Official Trailer")&&(B=e.key)}))}var F=function(){var t=e(i)(e(c).mark((function t(){return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.fetchMovieByIdForTrailer();case 3:if(j(e.sent.data),B){e.next=8;break}return(0,T.alertNoTrailer)(),e.abrupt("return");case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:E.create("\n        <iframe src='https://www.youtube.com/embed/".concat(B,'\'frameborder="0" allowfullscreen class="trailer_video" width="80%" height="80%"></iframe>')).show();case 15:case"end":return e.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}}();function q(){o.refs.modal.classList.add("is-hidden"),o.refs.backdrop.classList.add("is-hidden"),document.body.classList.remove("modal-is-open"),o.refs.modalContainer.innerHTML="",B="",o.refs.closeModalFilmBtn.removeEventListener("click",q)}o.refs.backdrop.addEventListener("click",(function(e){e.currentTarget===e.target&&q()})),document.addEventListener("keydown",(function(e){"Escape"===e.code&&q()})),o.refs.galleryLibrary.addEventListener("click",(function(e){e.preventDefault(),"IMG"===e.target.nodeName&&(o.refs.backdrop.classList.remove("is-hidden"),document.body.classList.add("modal-is-open"),S(e.target.id))})),r("8ebkk");var A=r("iU1Pc"),C=r("6Urw1"),H=r("3SEMc"),I=((0,C.initializeApp)({apiKey:"AIzaSyBz5_WEoInvREC_39QfDZZZECl5U8Gjy9s",authDomain:"auth-film.firebaseapp.com",projectId:"auth-film",storageBucket:"auth-film.appspot.com",messagingSenderId:"298945320872",appId:"1:298945320872:web:2c146219caa9b256beef9d"}),(0,H.getAuth)());document.querySelector("[data-logout]").addEventListener("click",(function(t){t.preventDefault(),(0,H.signOut)(I).then((function(){location.replace("https://specter-ode.github.io/Filmoteka-project/"),e(A).Notify.warning("You are now successfully logged out!")})).catch((function(t){var n=t.code;e(A).Notify.failure(n)}))}))}();
//# sourceMappingURL=library.999f752c.js.map
